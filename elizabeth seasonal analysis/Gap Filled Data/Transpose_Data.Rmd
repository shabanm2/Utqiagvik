# Transpose Data
## NOTE: THIS FILE IS NO LONGER NEEDED BUT THE CODE IS PRESERVED FOR REFERENCE OR POTENTIAL USE IN THE FUTURE

### Load Libraries
```{r}
library(dplyr)
library(tidyr)
library(splitstackshape)
```


## Files

### Temperature
Temp_data_CLEAN_TNHA_from_2022_05_17_to_2024_08_14_no_gps.csv
Temp_data_CLEAN_SSMH_from_2022_06_08_to_2024_08_28_no_gps.csv
Temp_data_CLEAN_BEO_from_2022_06_13_to_2024_08_31_no_gps.csv

### Volumetric Water Content
Moist_data_CLEAN_TNHA_from_2022_05_17_to_2024_08_14_no_gps.csv
Moist_data_CLEAN_SSMH_from_2022_06_08_to_2024_08_28_no_gps.csv
Moist_data_CLEAN_BEO_from_2022_06_13_to_2024_08_31_no_gps.csv

### Set Filepath and File
```{r}
filepath <- "/Users/emvanmetre/Desktop/Arctic/Gap_Filled_Data/"
file <- "Moist_data_CLEAN_TNHA_from_2022_05_17_to_2024_08_14_no_gps.csv"
```


### Read File
```{r}
df <- read.csv(paste0(filepath, file))
```

```{r}
# rename sensors and columns first
colnames(temp)[1:4] <- c("sensor", "depthcm", "latitude", "longitude")

temp_long <- gather(temp, date, value, 5:ncol(temp))
temp_long <- cSplit(temp_long, 'sensor', sep="-", direction = "wide")
temp_long <- select(temp_long, date, sensor_1, sensor_2, depthcm, longitude, latitude, value)
colnames(temp_long)[2:3] <- c("sensor", "sensordepth")

# get rid of leading X
temp_long$date <- gsub('X', '', temp_long$date)

# --delete--
# separate date and time by a space
# rename_dates <- paste0(substring(temp_long$date, 1, 10), ' ', substring(temp_long$date, 12, 19))
# ----------

# format date and time
dates <- as.POSIXct(temp_long$date,format="%Y.%m.%d.%H.%M.%S",tz="UTC")
```


